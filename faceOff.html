<!--V2 - Added extra functions: Let user pick difficulty, track number of rounds, let user restart game-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Face Off!</title>
    <style>
        img {
            position: absolute;
        }

        div {
            position: absolute;
            width: 500px;
            height: 500px;
        }

        #rightSide {
            left: 500px;
            border-left: 1px solid;
        }
    </style>
</head>
<body onload="setDifficulty()">
<h1>Face Off!</h1>
<p>Click on the extra face on the left.</p>

<div id="leftSide"></div>
<div id="rightSide"></div>

<script>
    //replace smilies with one of liv's 4 faces
    //make noise on click on face
    //make game over only on click on wrong face instead of anywhere but correct face
    //style

    const theLeftSide = document.querySelector('#leftSide');
    const theRightSide = document.querySelector('#rightSide');
    let attempts = 0;
    let facesIncrement = 0;
    let numberOfFaces = 0;

    function setDifficulty() {
        let difficultyLevel = prompt('Difficulty level?'); //change into a button with 3 choices
    
        if (difficultyLevel === 'easy') { //if dont change into a button with 3 choices, force user input to be lower case.  Come up with response if the user doesn't put in a level
            facesIncrement = 2;
        } else if (difficultyLevel === 'medium') {
            facesIncrement = 5;
        } else {
            facesIncrement = 8;
        }
        generateFaces();
    }
   
    

    function generateFaces() {
        numberOfFaces += facesIncrement;
        for (i = 0; i < numberOfFaces; i++) {
            let face = document.createElement('img');
            face.src = "images/smile.png"; //make an array of the 4 face locations and make face.src a random math to pick one of the 4 array elements?

            const randomTop = Math.floor(Math.random() * 400) + 1;
            const randomLeft = Math.floor(Math.random() * 400) + 1;
            face.style.top = randomTop + 'px';
            face.style.left = randomLeft + 'px';
            theLeftSide.appendChild(face);

        }

        const leftSideImages = theLeftSide.cloneNode(true);
        leftSideImages.removeChild(leftSideImages.lastChild);
        theRightSide.appendChild(leftSideImages);

        theLeftSide.lastChild.addEventListener('click', nextLevel);
        document.body.addEventListener('click', gameOver);

    }

    function removeFaces() {
        while(theLeftSide.firstChild) {
            theLeftSide.removeChild(theLeftSide.firstChild);
        }

        while(theRightSide.firstChild) {
            theRightSide.removeChild(theRightSide.firstChild);
        }        
    }

    function nextLevel(event) {
        event.stopPropagation();
        removeFaces();
        
        console.log(numberOfFaces);
        attempts ++;
        alert('Congratulations!\n\nYou completed ' + attempts + ' rounds!'); //need to fix case of 1 round (you completed 1 round instead of 1 rounds)
        generateFaces();
    }

    function gameOver() {
        alert('Game over!\n\nYou completed ' + attempts + ' rounds!');
        theLeftSide.lastChild.removeEventListener('click', nextLevel);
        document.body.removeEventListener('click', gameOver);
        let restartChoice = confirm('Restart game?'); //make button have a hidden attribute until activated?
        if (restartChoice === true) {
            removeFaces();
        numberOfFaces = 0;
        attempts = 0;
        setDifficulty();
        }else{
            alert('QUITTER!');
        }
    }


</script>
</body>
</html>
